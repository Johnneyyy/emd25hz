# STFT vs 필터뱅크 신호 분석 비교 도구

이 MATLAB 스크립트 세트는 CSV 파일에서 신호를 읽어 STFT(Short-Time Fourier Transform)와 필터뱅크 방식으로 0.2Hz 단위로 0.2~4Hz 대역을 분석하고 비교합니다.

## 파일 구성

### 1. `signal_analysis_comparison_csv.m` - 기본 비교 분석
- CSV 파일에서 신호를 읽어 기본적인 STFT와 필터뱅크 분석 수행
- 19개 주파수 대역 (0.2~4Hz, 0.2Hz 간격) 분석
- 시각화: 스펙트로그램, 주파수별 파워, 시간-주파수 분석
- 정량적 비교: 상관계수, 계산 시간, 주파수 검출 정확도

### 2. `advanced_signal_analysis_csv.m` - 고급 상세 분석
- 다양한 윈도우 크기와 필터 차수로 심층 분석
- 신호 특성 분석: 통계, 순시 주파수, 스펙트럼 중심
- 시간-주파수 해상도 트레이드오프 분석
- 성능 메트릭 비교 및 분석 보고서 생성

### 3. `realtime_comparison_demo_csv.m` - 실시간 처리 시뮬레이션
- CSV 신호를 실시간 스트리밍처럼 버퍼 단위로 처리
- 처리 시간, 지연시간, 효율성 분석
- 실시간 처리 가능성 평가

## CSV 파일 형식

입력 CSV 파일은 다음 두 가지 형식 중 하나를 지원합니다:

### 형식 1: 헤더가 있는 경우
```
Time(s),Signal
0.0000,0.1234
0.0100,0.2345
...
```

### 형식 2: 헤더가 없는 경우
```
0.0000,0.1234
0.0100,0.2345
...
```

- 첫 번째 열: 시간 (초)
- 두 번째 열: 신호 값

## 사용 방법

1. MATLAB에서 원하는 스크립트 실행:
```matlab
% 기본 비교 분석
signal_analysis_comparison_csv

% 고급 상세 분석
advanced_signal_analysis_csv

% 실시간 처리 시뮬레이션
realtime_comparison_demo_csv
```

2. 파일 선택 대화상자에서 분석할 CSV 파일 선택

3. 분석 결과 확인 및 저장 (선택사항)

## 주요 특징

### STFT 방식
- 균일한 시간-주파수 해상도
- FFT 기반으로 계산 효율적
- 윈도우 크기에 따른 해상도 트레이드오프
- 오프라인 분석에 적합

### 필터뱅크 방식
- 각 대역 독립적 처리
- Butterworth 필터 + Hilbert 변환
- 실시간 처리에 적합
- 낮은 지연시간

## 출력 파일

각 스크립트는 선택적으로 다음 결과 파일을 생성할 수 있습니다:

- `*_stft_results.csv`: STFT 분석 결과
- `*_filterbank_results.csv`: 필터뱅크 분석 결과
- `*_analysis_report.txt`: 상세 분석 보고서
- `*_realtime_performance.csv`: 실시간 처리 성능 데이터
- `*_realtime_summary.txt`: 실시간 처리 요약 보고서

## 권장 사항

- **짧은 신호 (<30초)**: 필터뱅크 방식 권장
- **중간 신호 (30-120초)**: 용도에 따라 선택
- **긴 신호 (>120초)**: STFT 방식 권장
- **실시간 처리**: 필터뱅크 방식 권장
- **높은 주파수 해상도**: STFT (긴 윈도우) 권장
- **높은 시간 해상도**: 필터뱅크 또는 STFT (짧은 윈도우) 권장